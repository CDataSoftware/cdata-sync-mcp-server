# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml
# This configuration is for desktop usage with stdio transport (Claude Desktop app)

startCommand:
  type: stdio
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    type: object
    required:
      - cdataBaseUrl
    properties:
      cdataBaseUrl:
        type: string
        description: CData Sync API endpoint URL
        default: http://localhost:8181/api.rsc
      cdataAuthToken:
        type: string
        description: CData Sync API authentication token (recommended)
      cdataUsername:
        type: string
        description: CData Sync username (for basic auth)
      cdataPassword:
        type: string
        description: CData Sync password (for basic auth)
      debugHttp:
        type: boolean
        default: false
        description: Enable HTTP request/response debugging
      disableSSE:
        type: boolean
        default: false
        description: Disable SSE debug server
    oneOf:
      - required: [cdataBaseUrl, cdataAuthToken]
      - required: [cdataBaseUrl, cdataUsername, cdataPassword]
  commandFunction:
    # A JS function that produces the CLI command based on the given config to start the MCP on stdio.
    |-
    (config) => ({
      command: 'node',
      args: ['dist/index.js'],
      env: {
        CDATA_BASE_URL: config.cdataBaseUrl,
        CDATA_AUTH_TOKEN: config.cdataAuthToken,
        CDATA_USERNAME: config.cdataUsername,
        CDATA_PASSWORD: config.cdataPassword,
        MCP_TRANSPORT_MODE: 'stdio',
        DEBUG_HTTP: config.debugHttp?.toString(),
        DISABLE_SSE: config.disableSSE?.toString()
      }
    })
  exampleConfig:
    cdataBaseUrl: http://localhost:8181/api.rsc
    cdataAuthToken: your-api-token-here
    debugHttp: false
    disableSSE: true
